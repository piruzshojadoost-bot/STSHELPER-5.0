import React from 'react';

const Korpus = () => {
    return (
        <div>
            Hello, Korpus!
        </div>
    );
};

export default Korpus;
{
    datum: "2025-12-11T22:29:01.373Z",
    antal: 158,
    "filer": [
        {
            "filnamn": "ssl_ji_fab1.eaf",
            "titel": "Herdepojken och vargen",
            "länk": "https://teckensprakskorpus.su.se/video/ssl_ji_fab1.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": "Stäng Starta markering Sluta markering",
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": null
        },
        {
            "filnamn": "ssl_ji_fab2.eaf",
            "titel": "Haren och sköldpaddan",
            "länk": "https://teckensprakskorpus.su.se/video/ssl_ji_fab2.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": "Stäng Starta markering Sluta markering",
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": null
        },
        {
            "filnamn": "ssl_ji_fab3.eaf",
            "titel": "Lejonet och musen",
            "länk": "https://teckensprakskorpus.su.se/video/ssl_ji_fab3.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": "Stäng Starta markering Sluta markering",
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": null
        },
        {
            "filnamn": "ssl_ji_fab4.eaf",
            "titel": "Björnen och de två vandrarna",
            "länk": "https://teckensprakskorpus.su.se/video/ssl_ji_fab4.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": "Stäng Starta markering Sluta markering",
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": null
        },
        {
            "filnamn": "ssl_ji_fab5.eaf",
            "titel": "Hunden och köttbenet",
            "länk": "https://teckensprakskorpus.su.se/video/ssl_ji_fab5.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": "Stäng Starta markering Sluta markering",
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": null
        },
        {
            "filnamn": "ssl_lm_fab1.eaf",
            "titel": "Herdepojken och vargen",
            "länk": "https://teckensprakskorpus.su.se/video/ssl_lm_fab1.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": "Stäng Starta markering Sluta markering",
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": null
        },
        {
            "filnamn": "ssl_lm_fab2.eaf",
            "titel": "Haren och sköldpaddan",
            "länk": "https://teckensprakskorpus.su.se/video/ssl_lm_fab2.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": "Stäng Starta markering Sluta markering",
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": null
        },
        {
            "filnamn": "ssl_lm_fab3.eaf",
            "titel": "Lejonet och musen",
            "länk": "https://teckensprakskorpus.su.se/video/ssl_lm_fab3.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": "Stäng Starta markering Sluta markering",
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": null
        },
        {
            "filnamn": "ssl_lm_fab4.eaf",
            "titel": "Björnen och de två vandrarna",
            "länk": "https://teckensprakskorpus.su.se/video/ssl_lm_fab4.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": "Stäng Starta markering Sluta markering",
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": null
        },
        {
            "filnamn": "ssl_lm_fab5.eaf",
            "titel": "Hunden och köttbenet",
            "länk": "https://teckensprakskorpus.su.se/video/ssl_lm_fab5.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": "Stäng Starta markering Sluta markering",
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": null
        },
        {
            "filnamn": "sslc01_004.eaf",
            "titel": "På arbetsplats",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_004.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_005.eaf",
            "titel": "Sportaktiviteter",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_005.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_006.eaf",
            "titel": "Brukar vi krama?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_006.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_021.eaf",
            "titel": "När fick jag kontakt med teckenspråk?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_021.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_022.eaf",
            "titel": "Kontakt med grannar",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_022.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_023.eaf",
            "titel": "Föreningsliv",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_023.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_041.eaf",
            "titel": "När fick jag kontakt med teckenspråk?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_041.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_042.eaf",
            "titel": "Döv - ändra tsp med släkt?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_042.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_043.eaf",
            "titel": "Döv - förening",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_043.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_044.eaf",
            "titel": "Döv - Dövas dag, festival, etc.",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_044.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_045.eaf",
            "titel": "Fritt - husdjur",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_045.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_046.eaf",
            "titel": "Fritt - film",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_046.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_061.eaf",
            "titel": "När fick jag kontakt med teckenspråk?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_061.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_062.eaf",
            "titel": "Som döv på arbetsplats",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_062.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_063.eaf",
            "titel": "Idrottsaktiviteter",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_063.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_064.eaf",
            "titel": "Fotbollsminne",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_064.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_065.eaf",
            "titel": "Fritt - hur hitta SU",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_065.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_066.eaf",
            "titel": "Fritt - bästa händelse",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_066.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_067.eaf",
            "titel": "Fritt - husdjur",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_067.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_101.eaf",
            "titel": "Familj",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_101.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_102.eaf",
            "titel": "Arbetsplats",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_102.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_103.eaf",
            "titel": "Idrott",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_103.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_104.eaf",
            "titel": "Förening",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_104.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_105.eaf",
            "titel": "Hur hitta fram till SU",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_105.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_106.eaf",
            "titel": "Favoritfilm",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_106.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_109.eaf",
            "titel": "Gamla tecken",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_109.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_110.eaf",
            "titel": "Äventyr",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_110.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_112.eaf",
            "titel": "Pensionär",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_112.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_114.eaf",
            "titel": "Godis",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_114.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_121.eaf",
            "titel": "När lär man sig teckna",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_121.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_123.eaf",
            "titel": "Dövförening",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_123.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_124.eaf",
            "titel": "Att lära sig simma",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_124.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_125.eaf",
            "titel": "Företag",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_125.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_126.eaf",
            "titel": "Bowling",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_126.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_127.eaf",
            "titel": "Lägenhetsrenovering",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_127.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_141.eaf",
            "titel": "När börjar du teckna?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_141.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_143.eaf",
            "titel": "Bästa reseminnen 1",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_143.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_161.eaf",
            "titel": "Föreningsliv",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_161.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_162.eaf",
            "titel": "Idrottsaktiviteter",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_162.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_163.eaf",
            "titel": "Världskongress för döva",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_163.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_164.eaf",
            "titel": "Dövas dag",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_164.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_165.eaf",
            "titel": "Mobiltelefon",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_165.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_166.eaf",
            "titel": "Tv-program",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_166.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_181.eaf",
            "titel": "Hur började du teckna",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_181.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_182.eaf",
            "titel": "Vänerskola och teckenspråk",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_182.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_183.eaf",
            "titel": "Tolk",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_183.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_187.eaf",
            "titel": "Stöld i Madrid",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_187.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_201.eaf",
            "titel": "Hur kontakta med teckenspråk?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_201.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_202.eaf",
            "titel": "Föreningsliv",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_202.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_203.eaf",
            "titel": "Arbetsplats",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_203.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_204.eaf",
            "titel": "Scout, Minne från yrkesskola",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_204.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_205.eaf",
            "titel": "Längtan till första klass",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_205.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_206.eaf",
            "titel": "Semester Österrike",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_206.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_208.eaf",
            "titel": "Hobby",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_208.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_209.eaf",
            "titel": "Roligaste minne",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_209.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_222.eaf",
            "titel": "Kommunikation med hörande",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_222.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_223.eaf",
            "titel": "Internationellt",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_223.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_225.eaf",
            "titel": "Roligaste minne",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_225.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_241.eaf",
            "titel": "Hur börja teckenspråk",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_241.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_242.eaf",
            "titel": "Arbetsplats",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_242.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_243.eaf",
            "titel": "Idrott",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_243.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_244.eaf",
            "titel": "Dövidrottsspel",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_244.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_245.eaf",
            "titel": "Roligaste minne",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_245.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_246.eaf",
            "titel": "Viktigaste händelse",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_246.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_247.eaf",
            "titel": "Fritt om filmen",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_247.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_263.eaf",
            "titel": "Föreningsliv",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_263.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_264.eaf",
            "titel": "Idrott",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_264.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_265.eaf",
            "titel": "Världsspelen",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_265.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_270.eaf",
            "titel": "Favoritfilm",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_270.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_271.eaf",
            "titel": "Vägen hit",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_271.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_283.eaf",
            "titel": "Skolgång",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_283.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_284.eaf",
            "titel": "Skolgång",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_284.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_285.eaf",
            "titel": "Skolgång",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_285.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_286.eaf",
            "titel": "Skolgång",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_286.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_287.eaf",
            "titel": "Skolgång",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_287.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_288.eaf",
            "titel": "Skolgång",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_288.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_292.eaf",
            "titel": "Fritt om filmen",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_292.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_301.eaf",
            "titel": "Teckenspråk hemma och utanför",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_301.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_302.eaf",
            "titel": "Dövförening",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_302.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_306.eaf",
            "titel": "Händelse",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_306.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_307.eaf",
            "titel": "Favoritfilm",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_307.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_321.eaf",
            "titel": "Kontakt med teckenspråk",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_321.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_322.eaf",
            "titel": "Kommunikation med hörande",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_322.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_323.eaf",
            "titel": "Arbetsuppgifter",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_323.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_326.eaf",
            "titel": "Utlandet 1",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_326.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_327.eaf",
            "titel": "Utlandet 2",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_327.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_341.eaf",
            "titel": "Kontakt med teckenspråk",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_341.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": "Stäng Starta markering Sluta markering",
            "Översättning S2": null
        },
        {
            "filnamn": "sslc01_342.eaf",
            "titel": "Uppväxt",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_342.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_343.eaf",
            "titel": "Syskoner",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_343.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_345.eaf",
            "titel": "Arbete 2",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_345.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_349.eaf",
            "titel": "Reseminne",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_349.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_366.eaf",
            "titel": "Bild- och mobiltelefon",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_366.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_367.eaf",
            "titel": "Egen upplevelse",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_367.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_381.eaf",
            "titel": "Hur börjar jag med teckenspråk",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_381.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_385.eaf",
            "titel": "Text-TV",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_385.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_386.eaf",
            "titel": "Kul minne",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_386.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_388.eaf",
            "titel": "Favoritfilm",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_388.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_389.eaf",
            "titel": "Själv regissör",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_389.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_390.eaf",
            "titel": "Filmfestival",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_390.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_391.eaf",
            "titel": "Humorfilm",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_391.eaf",
            "Glosa_DH S1": "\",\"Glosa_DH S2\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_402.eaf",
            "titel": "Oral undervisning",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_402.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_403.eaf",
            "titel": "Umgås med grannar och släkt",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_403.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_406.eaf",
            "titel": "Gambia",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_406.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc01_407.eaf",
            "titel": "Kul minne 2",
            "länk": "https://teckensprakskorpus.su.se/video/sslc01_407.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_008.eaf",
            "titel": "Var är du, grodan?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_008.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_009.eaf",
            "titel": "Snögubben",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_009.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_010.eaf",
            "titel": "Bildserier",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_010.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_026.eaf",
            "titel": "Snögubben",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_026.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_027.eaf",
            "titel": "Var är du, grodan?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_027.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_047.eaf",
            "titel": "Var är du, grodan?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_047.eaf",
            "Glosa_DH S1": "\",\"Glosa_DH S2\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_048.eaf",
            "titel": "Snögubben",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_048.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_049.eaf",
            "titel": "Bildserier",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_049.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_050.eaf",
            "titel": "Film Plankan",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_050.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_068.eaf",
            "titel": "Var är du, grodan?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_068.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_069.eaf",
            "titel": "Snögubben",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_069.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": "Stäng Starta markering Sluta markering",
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": null
        },
        {
            "filnamn": "sslc02_070.eaf",
            "titel": "Bildserier",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_070.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_071.eaf",
            "titel": "Film Plankan",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_071.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": "Stäng Starta markering Sluta markering",
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": null
        },
        {
            "filnamn": "sslc02_072.eaf",
            "titel": "Film Mr Bean",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_072.eaf",
            "Glosa_DH S1": "\",\"Glosa_DH S2\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_087.eaf",
            "titel": "Snögubben",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_087.eaf",
            "Glosa_DH S1": "\",\"Glosa_DH S2\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_088.eaf",
            "titel": "Var är du, grodan?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_088.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_089.eaf",
            "titel": "Bildserier",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_089.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_090.eaf",
            "titel": "Film Mr Bean",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_090.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_091.eaf",
            "titel": "Film Plankan",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_091.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_131.eaf",
            "titel": "Snögubben",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_131.eaf",
            "Glosa_DH S1": "\",\"Glosa_DH S2\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_147.eaf",
            "titel": "Var är du, grodan?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_147.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_148.eaf",
            "titel": "Snögubben",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_148.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": "Stäng Starta markering Sluta markering",
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": null
        },
        {
            "filnamn": "sslc02_149.eaf",
            "titel": "Bildserier",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_149.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_150.eaf",
            "titel": "Film Plankan",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_150.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_151.eaf",
            "titel": "Film Mr Bean",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_151.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_167.eaf",
            "titel": "Var är du, grodan?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_167.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_168.eaf",
            "titel": "Snögubben",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_168.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_169.eaf",
            "titel": "Bildserier",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_169.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_170.eaf",
            "titel": "Film Mr Bean",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_170.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_171.eaf",
            "titel": "Film Plankan",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_171.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_188.eaf",
            "titel": "Var är du, grodan?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_188.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_189.eaf",
            "titel": "Snögubben",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_189.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_190.eaf",
            "titel": "Bildserier",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_190.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_191.eaf",
            "titel": "Mr Bean",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_191.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_192.eaf",
            "titel": "Film Plankan",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_192.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_308.eaf",
            "titel": "Var är du, grodan?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_308.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_331.eaf",
            "titel": "Var är du, grodan?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_331.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": "\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_332.eaf",
            "titel": "Snögubben",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_332.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_333.eaf",
            "titel": "Bildserier",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_333.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_350.eaf",
            "titel": "Var är du, grodan?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_350.eaf",
            "Glosa_DH S1": "\",\"Glosa_DH S2\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_371.eaf",
            "titel": "Snögubben",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_371.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": "\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_372.eaf",
            "titel": "Bildserier",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_372.eaf",
            "Glosa_DH S1": null,
            "Glosa_NonDH S1": null,
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_392.eaf",
            "titel": "Var är du, grodan?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_392.eaf",
            "Glosa_DH S1": "\",\"Glosa_DH S2\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        },
        {
            "filnamn": "sslc02_409.eaf",
            "titel": "Var är du, grodan?",
            "länk": "https://teckensprakskorpus.su.se/video/sslc02_409.eaf",
            "Glosa_DH S1": "\",\"Glosa_DH S2\",\"Glosa_NonDH S1\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Glosa_NonDH S1": "\",\"Glosa_NonDH S2\",\"\u00d6vers\u00e4ttning S1\",\"\u00d6vers\u00e4ttning S2\"]; let isDown = false; let startX; let scrollLeft; const scrollable = document.querySelector('#tracksBox'); scrollable.addEventListener('mousedown', (e) => { isDown = true; scrollable.style.cursor = 'grabbing'; scrollable.style.userSelect = 'none'; // prevent the text or content from being selected startX = e.pageX - scrollable.offsetLeft; scrollLeft = scrollable.scrollLeft; }); scrollable.addEventListener('mouseleave', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mouseup', () => { isDown = false; scrollable.style.cursor = 'grab'; }); scrollable.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - scrollable.offsetLeft; const walk = (x - startX); scrollable.scrollLeft = scrollLeft - walk; }); function containerData() { const totalBlocks = 20000; const blockWidth = 6000; const viewportWidth = window.innerWidth; // var isDown = false; // var startX = 0; // var scrollLeft = 0; // function mousedown(event) { // this.isDown = true; // this.$el.style.cursor = 'grabbing'; // this.startX = event.pageX - this.$el.offsetLeft; // this.scrollLeft = this.$el.scrollLeft; // } // function mouseup() { // this.isDown = false; // this.$el.style.cursor = 'grab'; // } // function mousemove(event) { // if (!this.isDown) return; // event.preventDefault(); // const x = event.pageX - this.$el.offsetLeft; // const walk = x - this.startX; // this.$el.scrollLeft = this.scrollLeft - walk; // } function parseBlocks() { let blocksArray = []; blocksdata.forEach(tier => { tier.annotations.forEach(block => { blocksArray.push({ left: block.s * zoomLevel, top: 30 * tier.id, width: block.e - block.s, text: block.t, id: block.id, tier: tier.name, }); }); }); return blocksArray; } return { blocks: [], visibleBlocks: [], startMarking: 0, endMarking: 0, activeBlockId: 0, visibleRows, rowsModal, onScroll(event) { //console.log(\"Scrolling!\"); const scrollLeft = event.target.scrollLeft; this.updateVisibleBlocks(scrollLeft); if (vidplayer1.paused) { vidplayer1.currentTime = scrollLeft / zoomLevel / 1000; if (vidplayer2) { vidplayer2.currentTime = scrollLeft / zoomLevel / 1000; } } }, updateVisibleBlocks(scrollLeft) { this.visibleBlocks = this.blocks.filter(block => block.left + blockWidth > scrollLeft && block.left < scrollLeft + viewportWidth ); }, init() { this.blocks = parseBlocks(); this.updateVisibleBlocks(0); //scrollable.scrollLeft = 0 * zoomLevel; }, markingStart() { this.startMarking = scrollable.scrollLeft; marking.start = scrollable.scrollLeft; }, markingEnd() { this.endMarking = scrollable.scrollLeft; marking.end = scrollable.scrollLeft; }, toggleVisibleRows(row) { if (this.visibleRows.includes(row)) { this.visibleRows = this.visibleRows.filter(item => item !== row); } else { this.visibleRows.push(row); } } } } //let player = null; var playerInterval; var hasInit = false; var player1; var player2; var marking = { start: 0, end: 0 }; var vidplayer1; document.addEventListener(\"DOMContentLoaded\", function() { const speedButton = document.getElementById('speedButton'); const speeds = [0.75, 1, 0.5, 0.25, ]; // Define your desired speeds here let currentSpeedIndex = 1; // Start with normal speed (1x) speedButton.addEventListener('click', () => { // Cycle through the speeds currentSpeedIndex = (currentSpeedIndex + 1) % speeds.length; // Update video playback speed vidplayer1.playbackRate = speeds[currentSpeedIndex]; if (vidplayer2) { vidplayer2.playbackRate = speeds[currentSpeedIndex]; } // Update button text speedButton.textContent = `${speeds[currentSpeedIndex]}x`; }); const tracksBox = document.getElementById('tracksBox'); var options = { autoplay: false, muted: true, controls: true, preload: 'auto', playbackRates: [0.25, 0.5, 1], controlBar: { volumePanel: false, fullscreenToggle: false, pictureInPictureToggle: false, }, language: \"sv\", disablePictureInPicture: true, fluid: false }; videoCheckCounter = 0; // let vid = document.getElementById(\"videoplayer1\"); // vid.oncanplay = function() { // if (foundPlayerTime) { // return; // } // console.log(\"Can play check\"); // //player1.currentTime(0); // // foundPlayerTime = true; // player1.pause(); // // }; vidplayer1 = document.querySelector('#vidplayer1'); vidplayer2 = document.querySelector('#vidplayer2'); vidplayer1.addEventListener('can-play', () => { currentTime = 0.0000; console.log(\"Vidplay: Can play\"); }); vidplayer1.addEventListener('time-update', (event) => { currentTime = event.detail.currentTime; currentTracksBox = currentTime * 1000 * zoomLevel + 0.1; tracksBox.scrollLeft = currentTracksBox; //console.log(\"time-update\", marking, currentTime, currentTracksBox); if (!vidplayer1.paused && (marking.start != 0 || marking.end != 0) && currentTracksBox >= marking.end) { //console.log(\"Reached end of marking: \" + currentTime + \" | Resetting to \" + marking.start); vidplayer1.pause(); if (vidplayer2) { vidplayer2.pause(); } window.setTimeout(() => { const playerTimeStart = (marking.start - 0.1) / (1000 * zoomLevel); vidplayer1.currentTime = playerTimeStart; // Reset to start marker if (vidplayer2) { vidplayer2.currentTime = playerTimeStart; } }, 100); } }); // vidplayer1.addEventListener('pause', () => { // clearInterval(playerInterval); // }); // // player1.on('timeupdate', function() { // // console.log(\"timeupdate\"); // // const currentTime = player1.currentTime(); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }); // player1.on('play', (event) => { // console.log(\"play event\"); // if (marking.start != 0 || marking.end != 0) { // console.log(\"DO MARKING : \" + player1.currentTime() + \" to \" + marking.start + \" - \" + // marking.end); // player1.currentTime(marking.start / 1000); // } // // const pollingInterval = 10; // Every 100 milliseconds // // playerInterval = setInterval(() => { // // const currentTime = player1.currentTime(); // // //console.log(currentTime); // // if (marking.start != 0 || marking.end != 0) { // // //console.log(\"MARKING END : \" + currentTime + \" to \" + marking.end); // // if (currentTime >= marking.end / 1000) { // // player1.pause(); // // //clearInterval(playerInterval); // // } // // } // // //console.log(event.detail.plyr.currentTime); // // tracksBox.scrollLeft = currentTime * 1000 * zoomLevel + 0.1; // // }, pollingInterval); // }); // player1.on('pause', () => { // clearInterval(playerInterval); // }); // player1.on('ended', () => { // clearInterval(playerInterval); // }); document.addEventListener('keydown', function(event) { // Check if the Shift key is pressed const shiftPressed = event.shiftKey; let message = false; // Detect Space key // Make sure to check if id modal-container is not visible if (event.code === 'Space') { var modalContainer = document.getElementById('modal-container'); if (modalContainer.style.display === 'none' || modalContainer.style.visibility === 'hidden' || modalContainer.offsetParent === null) { event.preventDefault(); if (vidplayer1.paused) { vidplayer1.play(); message = 'Spelar upp'; } else { vidplayer1.pause(); message = 'Pausad'; } } } // Detect Left Arrow key if (event.code === 'ArrowLeft') { if (shiftPressed) { message = 'Bakåt 0.5 sekunder'; vidplayer1.currentTime -= 0.5; } else { message = 'Bakåt 0.2 sekunder'; vidplayer1.currentTime -= 0.2; } } // Detect Right Arrow key if (event.code === 'ArrowRight') { if (shiftPressed) { message = 'Framåt 0.5 sekunder'; vidplayer1.currentTime += 0.5; } else { message = 'Framåt 0.2 sekunder'; vidplayer1.currentTime += 0.2; } } if (message) { showNotification(message); } }); function showNotification(message) { const notification = document.getElementById('notification'); notification.textContent = message; notification.classList.remove('opacity-0', 'fade-out'); notification.classList.add('fade-in'); // Hide the notification after 2 seconds setTimeout(function() { notification.classList.remove('fade-in'); notification.classList.add('fade-out'); // After animation ends, add opacity-0 class to hide it completely setTimeout(function() { notification.classList.add('opacity-0'); }, 500); // match the duration of fadeOut animation }, 1500); } }); FEEDBACK STS-korpus - https://teckensprakskorpus.su.se/'",
            "Översättning S1": null,
            "Glosa_DH S2": null,
            "Glosa_NonDH S2": null,
            "Översättning S2": "Stäng Starta markering Sluta markering"
        }
    ]
}